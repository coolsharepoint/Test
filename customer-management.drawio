<mxfile host="app.diagrams.net" modified="2021-01-28T16:58:04.231Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36" etag="7unUuGoHuXA-byXEx7Y9" version="14.2.7" type="github" pages="5">
  <diagram id="E3Rx2xKXkaYTa4BLorXU" name="Landing-page">
    <mxGraphModel dx="1278" dy="548" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="mGxFwco67nXitEoOa0be-2" value="Pay as Guest" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="40" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mGxFwco67nXitEoOa0be-3" value="username" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="40" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mGxFwco67nXitEoOa0be-4" value="password" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mGxFwco67nXitEoOa0be-5" value="Sign in" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="200" width="190" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="DP0_xS1PbJPN5vV5RMd1" name="Homepage">
    <mxGraphModel dx="1278" dy="548" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="QkDWwZ7mr_dNyhM_nHd2-0" />
        <mxCell id="QkDWwZ7mr_dNyhM_nHd2-1" parent="QkDWwZ7mr_dNyhM_nHd2-0" />
        <mxCell id="QkDWwZ7mr_dNyhM_nHd2-2" value="Detail page" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="QkDWwZ7mr_dNyhM_nHd2-1" vertex="1">
          <mxGeometry x="300" y="110" width="470" height="470" as="geometry" />
        </mxCell>
        <mxCell id="h9-FtjeKPB7rPtecSa4b-0" value="Top menu" style="rounded=0;whiteSpace=wrap;html=1;" parent="QkDWwZ7mr_dNyhM_nHd2-1" vertex="1">
          <mxGeometry x="70" y="10" width="700" height="60" as="geometry" />
        </mxCell>
        <mxCell id="h9-FtjeKPB7rPtecSa4b-1" value="Left Menu" style="rounded=0;whiteSpace=wrap;html=1;" parent="QkDWwZ7mr_dNyhM_nHd2-1" vertex="1">
          <mxGeometry x="70" y="110" width="200" height="470" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="C2aDRS830pEBH73zyD1X" name="OnBoarding Pipeline">
    <mxGraphModel dx="1278" dy="548" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="QQOZxeTXkolohP3FQPzb-0" />
        <mxCell id="QQOZxeTXkolohP3FQPzb-1" parent="QQOZxeTXkolohP3FQPzb-0" />
        <mxCell id="QQOZxeTXkolohP3FQPzb-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="QQOZxeTXkolohP3FQPzb-1" source="QQOZxeTXkolohP3FQPzb-2" target="QQOZxeTXkolohP3FQPzb-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QQOZxeTXkolohP3FQPzb-2" value="Onboarding Web UI&lt;br&gt;Customer name&lt;br&gt;Customer Image&lt;br&gt;Description" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="QQOZxeTXkolohP3FQPzb-1" vertex="1">
          <mxGeometry x="125" y="100" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="QQOZxeTXkolohP3FQPzb-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="QQOZxeTXkolohP3FQPzb-1" source="QQOZxeTXkolohP3FQPzb-3" target="QQOZxeTXkolohP3FQPzb-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QQOZxeTXkolohP3FQPzb-3" value="Create Resources for the customer" style="rounded=0;whiteSpace=wrap;html=1;" parent="QQOZxeTXkolohP3FQPzb-1" vertex="1">
          <mxGeometry x="365" y="100" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="QQOZxeTXkolohP3FQPzb-4" value="RDS - Aurora Postgres&lt;br&gt;Secrets Manager -Store the RDS credentials in Secrets Manager&lt;br&gt;Set up backup procedures, enable logging etc&lt;br&gt;&lt;br&gt;ECS Fargate cluster - Web Api - Minimum 1 tasks.&lt;br&gt;&lt;br&gt;Cognito User Pool - Create app client. Set appropriate settings in the user pool&lt;br&gt;&lt;br&gt;1 - API&amp;nbsp; gateway - HTTP (With Routes and integrations with ECS Fargate api). Add Custom Authorization having the above Cogntio user pool id&lt;br&gt;&lt;br&gt;Execute the DB scripts from codecommit to create the db in the RDS&lt;br&gt;Deploy the webapi code from codecommit -&amp;nbsp;&lt;a href=&quot;https://console.aws.amazon.com/codesuite/codecommit/repositories/OC-OM-API/browse?region=us-east-1&quot; style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;amazon ember&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;roboto&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 14px&quot;&gt;OC-OM-API&lt;/a&gt;&lt;br&gt;Deploy the front end code from codecommit&lt;br&gt;&lt;a href=&quot;https://console.aws.amazon.com/codesuite/codecommit/repositories/OC-OM-FrontEnd/browse?region=us-east-1&quot; style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;amazon ember&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;roboto&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 14px&quot;&gt;OC-OM-FrontEnd&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;https://console.aws.amazon.com/codesuite/codecommit/repositories/OC-CM-FrontEnd/browse?region=us-east-1&quot; style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;amazon ember&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;roboto&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 14px&quot;&gt;OC-CM-FrontEnd&lt;/a&gt;&lt;br&gt;&lt;br&gt;Lambda - Create a lambda for PDF generation. The lambda code will be in the codecommit -&amp;nbsp;&lt;a href=&quot;https://console.aws.amazon.com/codesuite/codecommit/repositories/OC-Invoice-Generation/browse?region=us-east-1&quot; style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;amazon ember&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;roboto&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 14px&quot;&gt;OC-Invoice-Generation&lt;/a&gt;&lt;br&gt;&lt;br&gt;3 - S3 buckets to store the front end published code(company backend app, Order management app, Customer Portal app)&lt;br&gt;3 - Cloudfront urls for the front end apps&lt;br&gt;Attach ACM certs to the front end app&lt;br&gt;&lt;br&gt;1 - S3 bucket - deployment files - Create multiple folders to store the artifacts for all the projects&lt;br&gt;&lt;br&gt;Appropriate IAM Policies, Roles to be created.&lt;br&gt;Appropriate Infrastructure assets like VPC, Subnet, Route tables, Security Groups, Load balancers to be created.&lt;br&gt;HAVE PROPER NAMING CONVENTION FOR ALL RESOURCES - Prefix with oc-customerid-resource&lt;br&gt;TAGS should be created( costcenter - omegacommerce, app - company portal/order portal/customer portal, owner - xyz, customerid - autogenerated id from dynamo)&lt;br&gt;Notifications, alarms wherever possible" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="QQOZxeTXkolohP3FQPzb-1" vertex="1">
          <mxGeometry x="125" y="230" width="585" height="585" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="6e6vmA8NHJwdxGv9Xscf" name="Architecture">
    <mxGraphModel dx="1278" dy="548" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-0" />
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-1" parent="d_cK_WEf3hAIwTRp0_HH-0" />
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="d_cK_WEf3hAIwTRp0_HH-2" target="d_cK_WEf3hAIwTRp0_HH-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="100" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="d_cK_WEf3hAIwTRp0_HH-2" target="d_cK_WEf3hAIwTRp0_HH-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="100" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="d_cK_WEf3hAIwTRp0_HH-2" target="QiPn1_x6uKjbwOPFFpC_-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-2" value="Company Users Auth&lt;br&gt;Company &amp;amp; Order Portal users will be authenticated against Company Cognito User Pool created." style="ellipse;whiteSpace=wrap;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry y="40" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="d_cK_WEf3hAIwTRp0_HH-4" target="QiPn1_x6uKjbwOPFFpC_-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-4" value="Company Portal" style="rounded=0;whiteSpace=wrap;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="260" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="d_cK_WEf3hAIwTRp0_HH-5" target="QiPn1_x6uKjbwOPFFpC_-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-5" value="Order Portal" style="rounded=0;whiteSpace=wrap;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="260" y="289.68" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="d_cK_WEf3hAIwTRp0_HH-6" target="QiPn1_x6uKjbwOPFFpC_-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d_cK_WEf3hAIwTRp0_HH-6" value="Customer Portal" style="rounded=0;whiteSpace=wrap;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="260" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="QiPn1_x6uKjbwOPFFpC_-1" target="QiPn1_x6uKjbwOPFFpC_-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-1" value="Web Api" style="rounded=0;whiteSpace=wrap;html=1;rotation=90;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="437.82" y="281.56" width="240.63" height="76.25" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-6" value="PostgreSQL DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="690.63" y="257.18" width="80" height="125" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-9" value="oauth token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="170" y="210" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-11" value="oauth token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="180" y="300" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-13" value="oauth token validation" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="450" y="289.68" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" source="QiPn1_x6uKjbwOPFFpC_-16" target="d_cK_WEf3hAIwTRp0_HH-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-16" value="Customers auth" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="40" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-22" value="The customer will be created in Customer Cognito User Pool from Company/Order Portal. This UserPool will serve as the IDP for the customers to authenticate and login to the Customer Portal" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="10" y="450" width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-24" value="oauth token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="170" y="382.18" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-28" value="&lt;h1&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Company/Order/Customer Portal:&lt;/font&gt;&lt;/h1&gt;&lt;h1&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&lt;p style=&quot;font-size: 12px ; font-weight: 400&quot;&gt;Company/Order/Customer Portal front end will be deployed as an angular app&lt;/p&gt;&lt;/font&gt;&lt;/h1&gt;&lt;h1&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;Tech Stack:&lt;/span&gt;&lt;/h1&gt;&lt;h1&gt;&lt;span style=&quot;font-size: 12px ; font-weight: normal&quot;&gt;Angular&lt;/span&gt;&lt;br&gt;&lt;/h1&gt;&lt;p&gt;Typescript&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="20" y="570" width="250" height="260" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-31" value="" style="endArrow=none;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="825" as="sourcePoint" />
            <mxPoint x="280" y="575" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-32" value="&lt;h1&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Web API:&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;The web api is the business layer which has all of the business logic for OmegaCommerce&lt;/p&gt;&lt;p&gt;&lt;b&gt;Tech Stack:&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Visual Studio&lt;/p&gt;&lt;p&gt;.Net Core&lt;/p&gt;&lt;p&gt;Entity Framework&lt;/p&gt;&lt;p&gt;Logging to Cloudwatch logs&lt;/p&gt;&lt;p&gt;PostgreSQL DB Calls&lt;/p&gt;&lt;p&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="290" y="565" width="220" height="260" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-33" value="&lt;h1&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Database:&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;PostgreSQL will be used as backend DB. All transactional data(OLTP) will be go in one DB. For now, reports will be pulled from this database. Later reporting/OLAP DB will be set up.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Tech Stack:&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;PostgreSQL&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="550" y="565" width="205" height="250" as="geometry" />
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-34" value="" style="endArrow=none;html=1;" parent="d_cK_WEf3hAIwTRp0_HH-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="815" as="sourcePoint" />
            <mxPoint x="530" y="565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QiPn1_x6uKjbwOPFFpC_-36" value="&lt;h1&gt;OmegaCommerce Architecture&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="d_cK_WEf3hAIwTRp0_HH-1" vertex="1">
          <mxGeometry x="250" y="30" width="370" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="OG03XsYO0lZAIlrAWS1i" name="ETC Integration">
    <mxGraphModel dx="1278" dy="1648" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-0" />
        <mxCell id="vOLJuRHbFiFEnR6Qci34-1" parent="vOLJuRHbFiFEnR6Qci34-0" />
        <mxCell id="vOLJuRHbFiFEnR6Qci34-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-2" target="vOLJuRHbFiFEnR6Qci34-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-2" value="User logins in with ETC credentials to the ETC app" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="40" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-3" target="vOLJuRHbFiFEnR6Qci34-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-3" value="" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.user;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="80" y="90" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-5" value="ETC Job costing screen.&lt;br&gt;ETC User clicks the Invoice button which redirects to Invoicing system. At this point, the ETC will generate a nonce and stores in ETC DB with the invoice details. The Invoicing screen is opened with the nonce parameter in the url, it checks against ETC invoice /api for the validity of the nonce and pulls the invoice details and shows in the invoice screen." style="rounded=1;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="480" y="-130" width="400" height="150" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-6" value="1" style="text;html=1;strokeColor=#FF3333;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="200" y="-10" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-8" value="" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=#000000;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="20" y="570" width="220" height="220" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-9" target="vOLJuRHbFiFEnR6Qci34-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-9" value="Job costing screen" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="40" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-10" target="vOLJuRHbFiFEnR6Qci34-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-10" value="ETC Creates/updates invoice details" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="190" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-11" target="vOLJuRHbFiFEnR6Qci34-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-11" target="vOLJuRHbFiFEnR6Qci34-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-11" value="On Click of Invoice Button" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="340" y="270" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-14" target="vOLJuRHbFiFEnR6Qci34-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-14" value="&lt;span&gt;A Nonce is created for the invoice, stored in the DB with the invoice details&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="340" y="160" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-19" value="ETC DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;strokeColor=#000000;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="560" y="155" width="50" height="70" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-22" target="vOLJuRHbFiFEnR6Qci34-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="590" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-22" target="vOLJuRHbFiFEnR6Qci34-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-22" target="YPZbQ2ownl_WotOGna8D-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-22" target="vOLJuRHbFiFEnR6Qci34-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-22" value="Invoicing system opens with the nonce value and uses the Token cookie from ETC app to call ETC invoice api to get invoice details." style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="530" y="270" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-26" target="vOLJuRHbFiFEnR6Qci34-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-26" value="&lt;span&gt;ETC validates the Token cookie&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="340" y="370" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-28" target="vOLJuRHbFiFEnR6Qci34-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="125" y="480" />
              <mxPoint x="655" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-28" value="&lt;span&gt;ETC verifies the nonce value to make sure it is for the correct Invoice and returns the invoice details as json response to invoicing system&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="40" y="370" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-31" value="JSON repsonse to Invoicing system" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="365" y="460" width="155" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-34" target="YPZbQ2ownl_WotOGna8D-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-34" value="ETC user can email link to their customers for them to pay online." style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="950" y="320" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="vOLJuRHbFiFEnR6Qci34-1" source="vOLJuRHbFiFEnR6Qci34-38" target="vOLJuRHbFiFEnR6Qci34-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="795" y="530" />
              <mxPoint x="20" y="530" />
              <mxPoint x="20" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-38" value="If the user wants to edit the Invoice, they will be redirected to ETC Job costing screen to do the changes. So, the Invoicing system is READONLY of the invoice" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="700" y="400" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vOLJuRHbFiFEnR6Qci34-42" value="User redirected to Job costing screen" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="vOLJuRHbFiFEnR6Qci34-1" vertex="1">
          <mxGeometry x="310" y="500" width="335" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="vOLJuRHbFiFEnR6Qci34-1" source="YPZbQ2ownl_WotOGna8D-3" target="YPZbQ2ownl_WotOGna8D-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-3" value="ETC user pay for the invoice in the invoicing system." style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;" vertex="1" parent="vOLJuRHbFiFEnR6Qci34-1">
          <mxGeometry x="950" y="225" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-4" value="ETC clients customer can login to customer portal to pay the invoices online. The portal will also show past and pending invoices" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;" vertex="1" parent="vOLJuRHbFiFEnR6Qci34-1">
          <mxGeometry x="920" y="400" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="vOLJuRHbFiFEnR6Qci34-1" source="YPZbQ2ownl_WotOGna8D-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="910" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-9" value="The payment details will be sent to ETC api to store the information" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;" vertex="1" parent="vOLJuRHbFiFEnR6Qci34-1">
          <mxGeometry x="950" y="130" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YPZbQ2ownl_WotOGna8D-13" value="&lt;span&gt;ETC user redirected to ETC app&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="vOLJuRHbFiFEnR6Qci34-1">
          <mxGeometry x="790" y="130" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
